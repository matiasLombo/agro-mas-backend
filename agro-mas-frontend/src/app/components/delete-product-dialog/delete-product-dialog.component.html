<div class="modern-dialog">
  <!-- Header -->
  <div class="dialog-header">
    <div class="header-content">
      <div class="icon-container" [ngClass]="{'delete-action': isDelete, 'toggle-action': isToggle}">
        <mat-icon>{{ isDelete ? 'delete' : (isDeactivating ? 'pause_circle' : 'play_circle') }}</mat-icon>
      </div>
      <div class="header-text">
        <h2>{{ isDelete ? 'Eliminar producto' : (isDeactivating ? 'Desactivar producto' : 'Activar producto') }}</h2>
        <p>{{ data.product.title }}</p>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="dialog-body">
    <!-- Product Card -->
    <div class="product-card">
      <div class="product-image">
        <div *ngIf="!hasImage()" class="image-placeholder">
          <span>{{ getPlaceholderEmoji() }}</span>
        </div>
        <img *ngIf="hasImage()" [src]="getPrimaryImage()" [alt]="data.product.title">
      </div>
      <div class="product-info">
        <div class="product-meta">
          <span class="category-badge">{{ getCategoryName() }}</span>
          <span class="price-tag">{{ formatPrice() }}</span>
        </div>
      </div>
    </div>

    <!-- Action Message -->
    <div class="action-message">
      <div class="message-content">
        <p class="primary-message">{{ dialogMessage }}</p>
        <div class="warning-note" [ngClass]="{'delete-warning': isDelete, 'toggle-warning': isToggle}">
          <mat-icon>{{ isDelete ? 'error_outline' : 'info_outline' }}</mat-icon>
          <span>{{ warningMessage }}</span>
        </div>
      </div>
    </div>

    <!-- Status Toggle Info -->
    <div class="status-toggle" *ngIf="isToggle">
      <div class="status-row">
        <div class="status-item current">
          <span class="label">Actual</span>
          <div class="status-badge active" *ngIf="data.product.is_active">
            <mat-icon>visibility</mat-icon>
            <span>Activo</span>
          </div>
          <div class="status-badge inactive" *ngIf="!data.product.is_active">
            <mat-icon>visibility_off</mat-icon>
            <span>Inactivo</span>
          </div>
        </div>
        <div class="arrow">
          <mat-icon>arrow_forward</mat-icon>
        </div>
        <div class="status-item next">
          <span class="label">Nuevo</span>
          <div class="status-badge inactive" *ngIf="data.product.is_active">
            <mat-icon>visibility_off</mat-icon>
            <span>Inactivo</span>
          </div>
          <div class="status-badge active" *ngIf="!data.product.is_active">
            <mat-icon>visibility</mat-icon>
            <span>Activo</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Consequences -->
    <div class="consequences-list" *ngIf="isDelete">
      <h4>Consecuencias de esta acci칩n:</h4>
      <div class="consequence-items">
        <div class="consequence-item">
          <mat-icon>image</mat-icon>
          <span>Todas las im치genes ser치n eliminadas permanentemente</span>
        </div>
        <div class="consequence-item">
          <mat-icon>warning</mat-icon>
          <span>Esta acci칩n no se puede deshacer</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Actions -->
  <div class="dialog-actions">
    <button mat-button class="cancel-btn" (click)="onCancel()">
      <span>Cancelar</span>
    </button>
    <button 
      mat-flat-button 
      class="confirm-btn"
      [ngClass]="{'delete-btn': isDelete, 'toggle-btn': isToggle}"
      (click)="onConfirm()">
      <mat-icon>{{ isDelete ? 'delete' : (isDeactivating ? 'pause' : 'play_arrow') }}</mat-icon>
      <span>{{ confirmButtonText }}</span>
    </button>
  </div>
</div>